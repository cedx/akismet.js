!function t(e,n,r){function o(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return o(n?n:t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e){function n(t,e){return p.isUndefined(e)?""+e:!p.isNumber(e)||!isNaN(e)&&isFinite(e)?p.isFunction(e)||p.isRegExp(e)?e.toString():e:e.toString()}function r(t,e){return p.isString(t)?t.length<e?t:t.slice(0,e):t}function o(t){return r(JSON.stringify(t.actual,n),128)+" "+t.operator+" "+r(JSON.stringify(t.expected,n),128)}function i(t,e,n,r,o){throw new d.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:o})}function s(t,e){t||i(t,!0,e,"==",d.ok)}function a(t,e){if(t===e)return!0;if(p.isBuffer(t)&&p.isBuffer(e)){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return p.isDate(t)&&p.isDate(e)?t.getTime()===e.getTime():p.isRegExp(t)&&p.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:p.isObject(t)||p.isObject(e)?c(t,e):t==e}function u(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function c(t,e){if(p.isNullOrUndefined(t)||p.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;if(u(t))return u(e)?(t=f.call(t),e=f.call(e),a(t,e)):!1;try{var n,r,o=y(t),i=y(e)}catch(t){return!1}if(o.length!=i.length)return!1;for(o.sort(),i.sort(),r=o.length-1;r>=0;r--)if(o[r]!=i[r])return!1;for(r=o.length-1;r>=0;r--)if(n=o[r],!a(t[n],e[n]))return!1;return!0}function l(t,e){return t&&e?"[object RegExp]"==Object.prototype.toString.call(e)?e.test(t):t instanceof e?!0:e.call({},t)===!0?!0:!1:!1}function h(t,e,n,r){var o;p.isString(n)&&(r=n,n=null);try{e()}catch(t){o=t}if(r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!o&&i(o,n,"Missing expected exception"+r),!t&&l(o,n)&&i(o,n,"Got unwanted exception"+r),t&&o&&n&&!l(o,n)||!t&&o)throw o}var p=t("util/"),f=Array.prototype.slice,m=Object.prototype.hasOwnProperty,d=e.exports=s;d.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=o(this),this.generatedMessage=!0);var e=t.stackStartFunction||i;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,s=e.name,a=r.indexOf("\n"+s);if(a>=0){var u=r.indexOf("\n",a+1);r=r.substring(u+1)}this.stack=r}}},p.inherits(d.AssertionError,Error),d.fail=i,d.ok=s,d.equal=function(t,e,n){t!=e&&i(t,e,n,"==",d.equal)},d.notEqual=function(t,e,n){t==e&&i(t,e,n,"!=",d.notEqual)},d.deepEqual=function(t,e,n){a(t,e)||i(t,e,n,"deepEqual",d.deepEqual)},d.notDeepEqual=function(t,e,n){a(t,e)&&i(t,e,n,"notDeepEqual",d.notDeepEqual)},d.strictEqual=function(t,e,n){t!==e&&i(t,e,n,"===",d.strictEqual)},d.notStrictEqual=function(t,e,n){t===e&&i(t,e,n,"!==",d.notStrictEqual)},d.throws=function(){h.apply(this,[!0].concat(f.call(arguments)))},d.doesNotThrow=function(){h.apply(this,[!1].concat(f.call(arguments)))},d.ifError=function(t){if(t)throw t};var y=Object.keys||function(t){var e=[];for(var n in t)m.call(t,n)&&e.push(n);return e}},{"util/":10}],2:[function(t,e){e.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],3:[function(t,e){function n(){}var r=e.exports={};r.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=n,r.addListener=n,r.once=n,r.off=n,r.removeListener=n,r.removeAllListeners=n,r.emit=n,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")}},{}],4:[function(t,e,n){(function(t){!function(r){function o(t){throw RangeError(J[t])}function i(t,e){for(var n=t.length;n--;)t[n]=e(t[n]);return t}function s(t,e){return i(t.split(q),e).join(".")}function a(t){for(var e,n,r=[],o=0,i=t.length;i>o;)e=t.charCodeAt(o++),e>=55296&&56319>=e&&i>o?(n=t.charCodeAt(o++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--)):r.push(e);return r}function u(t){return i(t,function(t){var e="";return t>65535&&(t-=65536,e+=M(t>>>10&1023|55296),t=56320|1023&t),e+=M(t)}).join("")}function c(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:_}function l(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function h(t,e,n){var r=0;for(t=n?U(t/A):t>>1,t+=U(t/e);t>I*E>>1;r+=_)t=U(t/I);return U(r+(I+1)*t/(t+j))}function p(t){var e,n,r,i,s,a,l,p,f,m,d=[],y=t.length,g=0,v=k,b=x;for(n=t.lastIndexOf(C),0>n&&(n=0),r=0;n>r;++r)t.charCodeAt(r)>=128&&o("not-basic"),d.push(t.charCodeAt(r));for(i=n>0?n+1:0;y>i;){for(s=g,a=1,l=_;i>=y&&o("invalid-input"),p=c(t.charCodeAt(i++)),(p>=_||p>U((S-g)/a))&&o("overflow"),g+=p*a,f=b>=l?O:l>=b+E?E:l-b,!(f>p);l+=_)m=_-f,a>U(S/m)&&o("overflow"),a*=m;e=d.length+1,b=h(g-s,e,0==s),U(g/e)>S-v&&o("overflow"),v+=U(g/e),g%=e,d.splice(g++,0,v)}return u(d)}function f(t){var e,n,r,i,s,u,c,p,f,m,d,y,g,v,b,w=[];for(t=a(t),y=t.length,e=k,n=0,s=x,u=0;y>u;++u)d=t[u],128>d&&w.push(M(d));for(r=i=w.length,i&&w.push(C);y>r;){for(c=S,u=0;y>u;++u)d=t[u],d>=e&&c>d&&(c=d);for(g=r+1,c-e>U((S-n)/g)&&o("overflow"),n+=(c-e)*g,e=c,u=0;y>u;++u)if(d=t[u],e>d&&++n>S&&o("overflow"),d==e){for(p=n,f=_;m=s>=f?O:f>=s+E?E:f-s,!(m>p);f+=_)b=p-m,v=_-m,w.push(M(l(m+b%v,0))),p=U(b/v);w.push(M(l(p,0))),s=h(n,g,r==i),n=0,++r}++n,++e}return w.join("")}function m(t){return s(t,function(t){return N.test(t)?p(t.slice(4).toLowerCase()):t})}function d(t){return s(t,function(t){return T.test(t)?"xn--"+f(t):t})}var y="object"==typeof n&&n,g="object"==typeof e&&e&&e.exports==y&&e,v="object"==typeof t&&t;(v.global===v||v.window===v)&&(r=v);var b,w,S=2147483647,_=36,O=1,E=26,j=38,A=700,x=72,k=128,C="-",N=/^xn--/,T=/[^ -~]/,q=/\x2E|\u3002|\uFF0E|\uFF61/g,J={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=_-O,U=Math.floor,M=String.fromCharCode;if(b={version:"1.2.4",ucs2:{decode:a,encode:u},decode:p,encode:f,toASCII:d,toUnicode:m},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return b});else if(y&&!y.nodeType)if(g)g.exports=b;else for(w in b)b.hasOwnProperty(w)&&(y[w]=b[w]);else r.punycode=b}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(t,e){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,o,i){e=e||"&",o=o||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;c>l;++l){var h,p,f,m,d=t[l].replace(a,"%20"),y=d.indexOf(o);y>=0?(h=d.substr(0,y),p=d.substr(y+1)):(h=d,p=""),f=decodeURIComponent(h),m=decodeURIComponent(p),n(s,f)?r(s[f])?s[f].push(m):s[f]=[s[f],m]:s[f]=m}return s};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],6:[function(t,e){"use strict";function n(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,s,a){return e=e||"&",s=s||"=",null===t&&(t=void 0),"object"==typeof t?n(i(t),function(i){var a=encodeURIComponent(r(i))+s;return o(t[i])?n(t[i],function(t){return a+encodeURIComponent(r(t))}).join(e):a+encodeURIComponent(r(t[i]))}).join(e):a?encodeURIComponent(r(a))+s+encodeURIComponent(r(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],7:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":5,"./encode":6}],8:[function(t,e,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(t,e,n){if(t&&c(t)&&t instanceof r)return t;var o=new r;return o.parse(t,e,n),o}function i(t){return u(t)&&(t=o(t)),t instanceof r?t.format():r.prototype.format.call(t)}function s(t,e){return o(t,!1,!0).resolve(e)}function a(t,e){return t?o(t,!1,!0).resolveObject(e):e}function u(t){return"string"==typeof t}function c(t){return"object"==typeof t&&null!==t}function l(t){return null===t}function h(t){return null==t}var p=t("punycode");n.parse=o,n.resolve=s,n.resolveObject=a,n.format=i,n.Url=r;var f=/^([a-z0-9.+-]+:)/i,m=/:[0-9]*$/,d=["<",">",'"',"`"," ","\r","\n","	"],y=["{","}","|","\\","^","`"].concat(d),g=["'"].concat(y),v=["%","/","?",";","#"].concat(g),b=["/","?","#"],w=255,S=/^[a-z0-9A-Z_-]{0,63}$/,_=/^([a-z0-9A-Z_-]{0,63})(.*)$/,O={javascript:!0,"javascript:":!0},E={javascript:!0,"javascript:":!0},j={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=t("querystring");r.prototype.parse=function(t,e,n){if(!u(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t;r=r.trim();var o=f.exec(r);if(o){o=o[0];var i=o.toLowerCase();this.protocol=i,r=r.substr(o.length)}if(n||o||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===r.substr(0,2);!s||o&&E[o]||(r=r.substr(2),this.slashes=!0)}if(!E[o]&&(s||o&&!j[o])){for(var a=-1,c=0;c<b.length;c++){var l=r.indexOf(b[c]);-1!==l&&(-1===a||a>l)&&(a=l)}var h,m;m=-1===a?r.lastIndexOf("@"):r.lastIndexOf("@",a),-1!==m&&(h=r.slice(0,m),r=r.slice(m+1),this.auth=decodeURIComponent(h)),a=-1;for(var c=0;c<v.length;c++){var l=r.indexOf(v[c]);-1!==l&&(-1===a||a>l)&&(a=l)}-1===a&&(a=r.length),this.host=r.slice(0,a),r=r.slice(a),this.parseHost(),this.hostname=this.hostname||"";var d="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!d)for(var y=this.hostname.split(/\./),c=0,x=y.length;x>c;c++){var k=y[c];if(k&&!k.match(S)){for(var C="",N=0,T=k.length;T>N;N++)C+=k.charCodeAt(N)>127?"x":k[N];if(!C.match(S)){var q=y.slice(0,c),J=y.slice(c+1),I=k.match(_);I&&(q.push(I[1]),J.unshift(I[2])),J.length&&(r="/"+J.join(".")+r),this.hostname=q.join(".");break}}}if(this.hostname=this.hostname.length>w?"":this.hostname.toLowerCase(),!d){for(var U=this.hostname.split("."),M=[],c=0;c<U.length;++c){var R=U[c];M.push(R.match(/[^A-Za-z0-9_-]/)?"xn--"+p.encode(R):R)}this.hostname=M.join(".")}var P=this.port?":"+this.port:"",D=this.hostname||"";this.host=D+P,this.href+=this.host,d&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!O[i])for(var c=0,x=g.length;x>c;c++){var H=g[c],K=encodeURIComponent(H);K===H&&(K=escape(H)),r=r.split(H).join(K)}var L=r.indexOf("#");-1!==L&&(this.hash=r.substr(L),r=r.slice(0,L));var z=r.indexOf("?");if(-1!==z?(this.search=r.substr(z),this.query=r.substr(z+1),e&&(this.query=A.parse(this.query)),r=r.slice(0,z)):e&&(this.search="",this.query={}),r&&(this.pathname=r),j[i]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var P=this.pathname||"",R=this.search||"";this.path=P+R}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,i="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&c(this.query)&&Object.keys(this.query).length&&(i=A.stringify(this.query));var s=this.search||i&&"?"+i||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||j[e])&&o!==!1?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+o+n+s+r},r.prototype.resolve=function(t){return this.resolveObject(o(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(u(t)){var e=new r;e.parse(t,!1,!0),t=e}var n=new r;if(Object.keys(this).forEach(function(t){n[t]=this[t]},this),n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(n[e]=t[e])}),j[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(t.protocol&&t.protocol!==n.protocol){if(!j[t.protocol])return Object.keys(t).forEach(function(e){n[e]=t[e]}),n.href=n.format(),n;if(n.protocol=t.protocol,t.host||E[t.protocol])n.pathname=t.pathname;else{for(var o=(t.pathname||"").split("/");o.length&&!(t.host=o.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==o[0]&&o.unshift(""),o.length<2&&o.unshift(""),n.pathname=o.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var i=n.pathname||"",s=n.search||"";n.path=i+s}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var a=n.pathname&&"/"===n.pathname.charAt(0),c=t.host||t.pathname&&"/"===t.pathname.charAt(0),p=c||a||n.host&&t.pathname,f=p,m=n.pathname&&n.pathname.split("/")||[],o=t.pathname&&t.pathname.split("/")||[],d=n.protocol&&!j[n.protocol];if(d&&(n.hostname="",n.port=null,n.host&&(""===m[0]?m[0]=n.host:m.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===o[0]?o[0]=t.host:o.unshift(t.host)),t.host=null),p=p&&(""===o[0]||""===m[0])),c)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,m=o;else if(o.length)m||(m=[]),m.pop(),m=m.concat(o),n.search=t.search,n.query=t.query;else if(!h(t.search)){if(d){n.hostname=n.host=m.shift();var y=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;y&&(n.auth=y.shift(),n.host=n.hostname=y.shift())}return n.search=t.search,n.query=t.query,l(n.pathname)&&l(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!m.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var g=m.slice(-1)[0],v=(n.host||t.host)&&("."===g||".."===g)||""===g,b=0,w=m.length;w>=0;w--)g=m[w],"."==g?m.splice(w,1):".."===g?(m.splice(w,1),b++):b&&(m.splice(w,1),b--);if(!p&&!f)for(;b--;b)m.unshift("..");!p||""===m[0]||m[0]&&"/"===m[0].charAt(0)||m.unshift(""),v&&"/"!==m.join("/").substr(-1)&&m.push("");var S=""===m[0]||m[0]&&"/"===m[0].charAt(0);if(d){n.hostname=n.host=S?"":m.length?m.shift():"";var y=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;y&&(n.auth=y.shift(),n.host=n.hostname=y.shift())}return p=p||n.host&&m.length,p&&!S&&m.unshift(""),m.length?n.pathname=m.join("/"):(n.pathname=null,n.path=null),l(n.pathname)&&l(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=m.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{punycode:4,querystring:7}],9:[function(t,e){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],10:[function(t,e,n){(function(e,r){function o(t,e){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(e)?r.showHidden=e:e&&n._extend(r,e),S(r.showHidden)&&(r.showHidden=!1),S(r.depth)&&(r.depth=2),S(r.colors)&&(r.colors=!1),S(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),u(r,t,r.depth)}function i(t,e){var n=o.styles[e];return n?"["+o.colors[n][0]+"m"+t+"["+o.colors[n][1]+"m":t}function s(t){return t}function a(t){var e={};return t.forEach(function(t){e[t]=!0}),e}function u(t,e,r){if(t.customInspect&&e&&A(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var o=e.inspect(r,t);return b(o)||(o=u(t,o,r)),o}var i=c(t,e);if(i)return i;var s=Object.keys(e),d=a(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),j(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(e);if(0===s.length){if(A(e)){var y=e.name?": "+e.name:"";return t.stylize("[Function"+y+"]","special")}if(_(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(E(e))return t.stylize(Date.prototype.toString.call(e),"date");if(j(e))return l(e)}var g="",v=!1,w=["{","}"];if(m(e)&&(v=!0,w=["[","]"]),A(e)){var S=e.name?": "+e.name:"";g=" [Function"+S+"]"}if(_(e)&&(g=" "+RegExp.prototype.toString.call(e)),E(e)&&(g=" "+Date.prototype.toUTCString.call(e)),j(e)&&(g=" "+l(e)),0===s.length&&(!v||0==e.length))return w[0]+g+w[1];if(0>r)return _(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var O;return O=v?h(t,e,r,d,s):s.map(function(n){return p(t,e,r,d,n,v)}),t.seen.pop(),f(O,g,w)}function c(t,e){if(S(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return v(e)?t.stylize(""+e,"number"):d(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,o){for(var i=[],s=0,a=e.length;a>s;++s)i.push(T(e,String(s))?p(t,e,n,r,String(s),!0):"");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(t,e,n,r,o,!0))}),i}function p(t,e,n,r,o,i){var s,a,c;if(c=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},c.get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),T(r,o)||(s="["+o+"]"),a||(t.seen.indexOf(c.value)<0?(a=y(n)?u(t,c.value,null):u(t,c.value,n-1),a.indexOf("\n")>-1&&(a=i?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),S(s)){if(i&&o.match(/^\d+$/))return a;s=JSON.stringify(""+o),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function f(t,e,n){var r=0,o=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function m(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function y(t){return null===t}function g(t){return null==t}function v(t){return"number"==typeof t}function b(t){return"string"==typeof t}function w(t){return"symbol"==typeof t}function S(t){return void 0===t}function _(t){return O(t)&&"[object RegExp]"===k(t)}function O(t){return"object"==typeof t&&null!==t}function E(t){return O(t)&&"[object Date]"===k(t)}function j(t){return O(t)&&("[object Error]"===k(t)||t instanceof Error)}function A(t){return"function"==typeof t}function x(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function k(t){return Object.prototype.toString.call(t)}function C(t){return 10>t?"0"+t.toString(10):t.toString(10)}function N(){var t=new Date,e=[C(t.getHours()),C(t.getMinutes()),C(t.getSeconds())].join(":");return[t.getDate(),U[t.getMonth()],e].join(" ")}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var q=/%[sdj%]/g;n.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(o(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,i=r.length,s=String(t).replace(q,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),a=r[n];i>n;a=r[++n])s+=y(a)||!O(a)?" "+a:" "+o(a);return s},n.deprecate=function(t,o){function i(){if(!s){if(e.throwDeprecation)throw new Error(o);e.traceDeprecation?console.trace(o):console.error(o),s=!0}return t.apply(this,arguments)}if(S(r.process))return function(){return n.deprecate(t,o).apply(this,arguments)};if(e.noDeprecation===!0)return t;var s=!1;return i};var J,I={};n.debuglog=function(t){if(S(J)&&(J=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!I[t])if(new RegExp("\\b"+t+"\\b","i").test(J)){var r=e.pid;I[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,r,e)}}else I[t]=function(){};return I[t]},n.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=m,n.isBoolean=d,n.isNull=y,n.isNullOrUndefined=g,n.isNumber=v,n.isString=b,n.isSymbol=w,n.isUndefined=S,n.isRegExp=_,n.isObject=O,n.isDate=E,n.isError=j,n.isFunction=A,n.isPrimitive=x,n.isBuffer=t("./support/isBuffer");var U=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",N(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!O(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":9,_process:3,inherits:2}],11:[function(t,e){function n(){}function r(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function o(){if(y.XMLHttpRequest&&("file:"!=y.location.protocol||!y.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1}function i(t){return t===Object(t)}function s(t){if(!i(t))return t;var e=[];for(var n in t)null!=t[n]&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function a(t){for(var e,n,r={},o=t.split("&"),i=0,s=o.length;s>i;++i)n=o[i],e=n.split("="),r[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return r}function u(t){var e,n,r,o,i=t.split(/\r?\n/),s={};i.pop();for(var a=0,u=i.length;u>a;++a)n=i[a],e=n.indexOf(":"),r=n.slice(0,e).toLowerCase(),o=g(n.slice(e+1)),s[r]=o;return s}function c(t){return t.split(/ *; */).shift()}function l(t){return d(t.split(/ *; */),function(t,e){var n=e.split(/ *= */),r=n.shift(),o=n.shift();return r&&o&&(t[r]=o),t},{})}function h(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text=this.xhr.responseText,this.setStatusProperties(this.xhr.status),this.header=this.headers=u(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text):null}function p(t,e){var n=this;m.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var e=new h(n);"HEAD"==t&&(e.text=null),n.callback(null,e)})}function f(t,e){return"function"==typeof e?new p("GET",t).end(e):1==arguments.length?new p("GET",t):new p(t,e)}var m=t("emitter"),d=t("reduce"),y="undefined"==typeof window?this:window,g="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};f.serializeObject=s,f.parseString=a,f.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},f.serialize={"application/x-www-form-urlencoded":s,"application/json":JSON.stringify},f.parse={"application/x-www-form-urlencoded":a,"application/json":JSON.parse},h.prototype.get=function(t){return this.header[t.toLowerCase()]},h.prototype.setHeaderProperties=function(){var t=this.header["content-type"]||"";this.type=c(t);var e=l(t);for(var n in e)this[n]=e[n]},h.prototype.parseBody=function(t){var e=f.parse[this.type];return e?e(t):null},h.prototype.setStatusProperties=function(t){var e=t/100|0;this.status=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t||1223==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},h.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,r="cannot "+e+" "+n+" ("+this.status+")",o=new Error(r);return o.status=this.status,o.method=e,o.url=n,o},f.Response=h,m(p.prototype),p.prototype.use=function(t){return t(this),this},p.prototype.timeout=function(t){return this._timeout=t,this},p.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},p.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},p.prototype.set=function(t,e){if(i(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},p.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},p.prototype.type=function(t){return this.set("Content-Type",f.types[t]||t),this},p.prototype.accept=function(t){return this.set("Accept",f.types[t]||t),this},p.prototype.auth=function(t,e){var n=btoa(t+":"+e);return this.set("Authorization","Basic "+n),this},p.prototype.query=function(t){return"string"!=typeof t&&(t=s(t)),t&&this._query.push(t),this},p.prototype.field=function(t,e){return this._formData||(this._formData=new FormData),this._formData.append(t,e),this},p.prototype.attach=function(t,e,n){return this._formData||(this._formData=new FormData),this._formData.append(t,e,n),this},p.prototype.send=function(t){var e=i(t),n=this.getHeader("Content-Type");if(e&&i(this._data))for(var r in t)this._data[r]=t[r];else"string"==typeof t?(n||this.type("form"),n=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return e?(n||this.type("json"),this):this},p.prototype.callback=function(t,e){var n=this._callback;return 2==n.length?n(t,e):t?this.emit("error",t):void n(e)},p.prototype.crossDomainError=function(){var t=new Error("Origin is not allowed by Access-Control-Allow-Origin");t.crossDomain=!0,this.callback(t)},p.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},p.prototype.withCredentials=function(){return this._withCredentials=!0,this},p.prototype.end=function(t){var e=this,i=this.xhr=o(),s=this._query.join("&"),a=this._timeout,u=this._formData||this._data;if(this._callback=t||n,i.onreadystatechange=function(){return 4==i.readyState?0==i.status?e.aborted?e.timeoutError():e.crossDomainError():void e.emit("end"):void 0},i.upload&&(i.upload.onprogress=function(t){t.percent=t.loaded/t.total*100,e.emit("progress",t)}),a&&!this._timer&&(this._timer=setTimeout(function(){e.abort()},a)),s&&(s=f.serializeObject(s),this.url+=~this.url.indexOf("?")?"&"+s:"?"+s),i.open(this.method,this.url,!0),this._withCredentials&&(i.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof u&&!r(u)){var c=f.serialize[this.getHeader("Content-Type")];c&&(u=c(u))}for(var l in this.header)null!=this.header[l]&&i.setRequestHeader(l,this.header[l]);return this.emit("request",this),i.send(u),this},f.Request=p,f.get=function(t,e,n){var r=f("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},f.head=function(t,e,n){var r=f("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},f.del=function(t,e){var n=f("DELETE",t);return e&&n.end(e),n},f.patch=function(t,e,n){var r=f("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},f.post=function(t,e,n){var r=f("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},f.put=function(t,e,n){var r=f("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},e.exports=f},{emitter:12,reduce:13}],12:[function(t,e){function n(t){return t?r(t):void 0}function r(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){function n(){r.off(t,n),e.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===e||r.fn===e){n.splice(o,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var r=0,o=n.length;o>r;++r)n[r].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],13:[function(t,e){e.exports=function(t,e,n){for(var r=0,o=t.length,i=3==arguments.length?n:t[r++];o>r;)i=e.call(null,i,t[r],++r,t);return i}},{}],14:[function(t,e){(function(n){"use strict";function r(t,e){if(this.charset=null,this.lang=null,this.url="string"==typeof t?t:null,e&&"object"==typeof e)for(var n in e)this.hasOwnProperty(n)&&e[n]&&(this[n]=e[n])}function o(e,i,s){if(this.apiKey=String(e),this.blog=i instanceof r?i:new r(i),this.userAgent=u.format("Node.js/%s | Akismet.js/%s","undefined"!=typeof window?"0.0.0":n.version,t("../package.json").version),this.serviceUrl="https://"+o.DEFAULT_SERVICE,s&&"object"==typeof s)for(var a in s)this.hasOwnProperty(a)&&s[a]&&(this[a]=s[a])}var i=t("./enums"),s=t("superagent"),a=t("url"),u=t("util");r.fromJSON=function(t){var e;if("string"!=typeof t)e=t;else try{e=JSON.parse(t)}catch(t){return null}return e&&"object"==typeof e?new r(e.blog,{charset:e.blog_charset,lang:e.blog_lang}):null},r.prototype.toJSON=function(){var t={};return"string"==typeof this.url&&(t.blog=this.url),"string"==typeof this.charset&&(t.blog_charset=this.charset),"string"==typeof this.lang&&(t.blog_lang=this.lang),JSON.stringify(t)},r.prototype.toString=function(){return"Blog "+this.toJSON()},o.DEFAULT_SERVICE="rest.akismet.com",o.prototype.checkComment=function(t,e){var n=a.parse(this.serviceUrl),r=n.host!=o.DEFAULT_SERVICE?a.resolve(this.serviceUrl,i.EndPoints.CHECK_COMMENT):u.format("%s//%s.%s%s",n.protocol,this.apiKey,n.host,i.EndPoints.CHECK_COMMENT);
this._queryService(r,JSON.parse(t.toJSON()),function(t,n){t?e(t,!1):e(null,"true"==n)})},o.prototype.submitHam=function(t,e){var n=a.parse(this.serviceUrl),r=n.host!=o.DEFAULT_SERVICE?a.resolve(this.serviceUrl,i.EndPoints.SUBMIT_HAM):u.format("%s//%s.%s%s",n.protocol,this.apiKey,n.host,i.EndPoints.SUBMIT_HAM);this._queryService(r,JSON.parse(t.toJSON()),e)},o.prototype.submitSpam=function(t,e){var n=a.parse(this.serviceUrl),r=n.host!=o.DEFAULT_SERVICE?a.resolve(this.serviceUrl,i.EndPoints.SUBMIT_SPAM):u.format("%s//%s.%s%s",n.protocol,this.apiKey,n.host,i.EndPoints.SUBMIT_SPAM);this._queryService(r,JSON.parse(t.toJSON()),e)},o.prototype.toString=function(){return u.format('Client { apiKey: "%s", blog: "%s", serviceUrl: "%s", userAgent: "%s" }',this.apiKey,this.blog.url,this.serviceUrl,this.userAgent)},o.prototype.verifyKey=function(t){var e=a.resolve(this.serviceUrl,i.EndPoints.VERIFY_KEY);this._queryService(e,{},function(e,n){e?t(e,!1):t(null,"valid"==n)})},o.prototype._queryService=function(t,e,n){e.key=this.apiKey,e.blog=this.blog.url,this.blog.charset&&(e.blog_charset=this.blog.charset),this.blog.lang&&(e.blog_lang=this.blog.lang),s.post(t).type("form").set("undefined"!=typeof window?i.HTTPHeaders.X_USER_AGENT:"user-agent",this.userAgent).send(e).end(function(t,e){if(console.log(t),console.log(e),t)n(t,null);else if(200!=e.status)n(new Error(e.status),null);else{var r=i.HTTPHeaders.X_AKISMET_DEBUG_HELP;n(r in e.header?new Error(e.header[r]):null,e.text)}})},e.exports={Blog:r,Client:o}}).call(this,t("_process"))},{"../package.json":17,"./enums":16,_process:3,superagent:11,url:8,util:10}],15:[function(t,e){"use strict";function n(t){if(this.email=null,this.ipAddress=null,this.name=null,this.url=null,this.userAgent=null,t&&"object"==typeof t)for(var e in t)this.hasOwnProperty(e)&&t[e]&&(this[e]=t[e])}function r(t){if(this.author=null,this.content=null,this.permalink=null,this.referrer=null,this.type=null,t&&"object"==typeof t)for(var e in t)this.hasOwnProperty(e)&&t[e]&&(this[e]=t[e])}var o={COMMENT:"comment",PINGBACK:"pingback",TRACKBACK:"trackback"};n.fromJSON=function(t){var e;if("string"!=typeof t)e=t;else try{e=JSON.parse(t)}catch(t){return null}return e&&"object"==typeof e?new n({name:e.comment_author,email:e.comment_author_email,url:e.comment_author_url,userAgent:e.user_agent,ipAddress:e.user_ip}):null},n.prototype.toJSON=function(){var t={};return"string"==typeof this.name&&(t.comment_author=this.name),"string"==typeof this.email&&(t.comment_author_email=this.email),"string"==typeof this.url&&(t.comment_author_url=this.url),"string"==typeof this.userAgent&&(t.user_agent=this.userAgent),"string"==typeof this.ipAddress&&(t.user_ip=this.ipAddress),JSON.stringify(t)},n.prototype.toString=function(){return"Author "+this.toJSON()},r.fromJSON=function(t){var e;if("string"!=typeof t)e=t;else try{e=JSON.parse(t)}catch(t){return null}if(!e||"object"!=typeof e)return null;var o=!1;for(var i in e)if("comment_author"==i.substr(0,"comment_author".length)||"user"==i.substr(0,"user".length)){o=!0;break}return new r({author:o?n.fromJSON(e):null,content:e.comment_content,type:e.comment_type,permalink:e.permalink,referrer:e.referrer})},r.prototype.toJSON=function(){var t={};if(this.author instanceof n){var e=JSON.parse(this.author.toJSON());for(var r in e)t[r]=e[r]}return"string"==typeof this.content&&(t.comment_content=this.content),"string"==typeof this.type&&(t.comment_type=this.type),"string"==typeof this.permalink&&(t.permalink=this.permalink),"string"==typeof this.referrer&&(t.referrer=this.referrer),JSON.stringify(t)},r.prototype.toString=function(){return"Comment "+this.toJSON()},e.exports={Author:n,Comment:r,CommentType:o}},{}],16:[function(t,e){"use strict";var n={CHECK_COMMENT:"/1.1/comment-check",SUBMIT_HAM:"/1.1/submit-ham",SUBMIT_SPAM:"/1.1/submit-spam",VERIFY_KEY:"/1.1/verify-key"},r={X_AKISMET_DEBUG_HELP:"x-akismet-debug-help",X_REQUESTED_WITH:"x-requested-with",X_USER_AGENT:"x-user-agent"};e.exports={EndPoints:n,HTTPHeaders:r}},{}],17:[function(t,e){e.exports={author:"CÃ©dric Belin <cedric@belin.io>",bugs:"https://github.com/cedx/akismet.js/issues",description:"Prevent comment spam using Akismet service.",homepage:"https://github.com/cedx/akismet.js",license:"MIT",main:"./index",name:"akismet-js",version:"0.3.0",bin:{akismet:"./bin/cli.js"},dependencies:{"body-parser":"^1.8.2",commander:"^2.3.0",express:"^4.9.0",superagent:"^0.18.0"},devDependencies:{browserify:"^5.11.2","docgen-js":"^0.1.0",jshint:"^2.5.5",mocha:"^1.21.4",shelljs:"^0.3.0","uglify-js":"^2.4.15"},engines:{node:">=0.10.30"},jshintConfig:{browser:!0,freeze:!0,indent:2,latedef:!0,loopfunc:!0,newcap:!0,node:!0,nonew:!0,quotmark:"single",strict:!0,trailing:!0,undef:!0,unused:!0,globals:{describe:!1,it:!1}},keywords:["akismet","comment","spam","validation"],repository:{type:"git",url:"https://github.com/cedx/akismet.js.git"},scripts:{make:"node bin/make.js",start:"node bin/cli.js",test:"node bin/make.js test"},yuidoc:{logo:"http://dev.belin.io/akismet.js/favicon.ico",name:"Akismet.js",url:"https://www.npmjs.org/package/akismet-js",options:{linkNatives:!0,outdir:"doc/api",paths:"lib",tabtospace:2,theme:"default"}}}},{}],18:[function(t){(function(e){"use strict";var n=t("assert"),r=e.process.env,o=t("../lib/comment").Author,i=t("../lib/client").Blog,s=t("../lib/client").Client,a=t("../lib/comment").Comment,u=t("../lib/comment").CommentType,c={run:function(){var t=this;describe("Blog",function(){describe(".fromJSON()",t.testFromJSON),describe("#toJSON()",t.testToJSON)})},testFromJSON:function(){it("should return a null reference with a non-object JSON string",function(){n.strictEqual(i.fromJSON("foo"),null)}),it("should return an empty instance with an empty JSON object",function(){var t=i.fromJSON({});n.strictEqual(t.charset,null),n.strictEqual(t.lang,null),n.strictEqual(t.url,null)}),it("should return an initialized instance with a non-empty JSON object",function(){var t=i.fromJSON({blog:"http://dev.belin.io/akismet.js",blog_charset:"UTF-8",blog_lang:"en"});n.equal(t.charset,"UTF-8"),n.equal(t.lang,"en"),n.equal(t.url,"http://dev.belin.io/akismet.js")})},testToJSON:function(){it("should return an empty JSON object with a newly created instance",function(){n.equal((new i).toJSON(),"{}")}),it("should return a non-empty JSON object with a initialized instance",function(){var t=new i("http://dev.belin.io/akismet.js",{charset:"UTF-8",lang:"en"});n.equal(t.toJSON(),'{"blog":"http://dev.belin.io/akismet.js","blog_charset":"UTF-8","blog_lang":"en"}')})}},l={_client:new s(r.AKISMET_API_KEY,r.AKISMET_BLOG,{serviceUrl:"AKISMET_SERVICE_URL"in r?r.AKISMET_SERVICE_URL:null}),_ham:new a({author:new o({ipAddress:"192.168.0.1",name:"Akismet.js",url:"http://dev.belin.io/akismet.js",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9) AppleWebKit/537.71 (KHTML, like Gecko) Version/7.0 Safari/537.71"}),content:"I'm testing out the Service API.",referrer:"https://www.npmjs.org/package/akismet-js",type:u.COMMENT}),_spam:new a({author:new o({ipAddress:"127.0.0.1",name:"viagra-test-123",userAgent:"Spam Bot/6.6.6"}),content:"Spam!",type:u.TRACKBACK}),run:function(){var t=this;describe("Client",function(){this.timeout(1e4),describe("#verifyKey()",t.testVerifyKey.bind(t)),describe("#submitHam()",t.testSubmitHam.bind(t)),describe("#submitSpam()",t.testSubmitSpam.bind(t)),describe("#checkComment()",t.testCheckComment.bind(t))})},testCheckComment:function(){var t=this;it("should return `false` for valid comment (e.g. ham)",function(e){t._client.checkComment(t._ham,function(t,r){n.ifError(t),n.strictEqual(r,!1),e()})}),it("should return `true` for invalid comment (e.g. spam)",function(e){t._client.checkComment(t._spam,function(t,r){n.ifError(t),n.strictEqual(r,!0),e()})})},testSubmitHam:function(){var t=this;it("should complete without error",function(e){t._client.submitHam(t._ham,e)})},testSubmitSpam:function(){var t=this;it("should complete without error",function(e){t._client.submitSpam(t._spam,e)})},testVerifyKey:function(){var t=this;it("should return `true` for a valid API key",function(e){t._client.verifyKey(function(t,r){n.ifError(t),n.strictEqual(r,!0),e()})}),it("should return `false` for an invalid API key",function(e){var r=new s("viagra-test-123",t._client.blog,{serviceUrl:t._client.serviceUrl});r.verifyKey(function(t,r){n.ifError(t),n.strictEqual(r,!1),e()})})}};c.run(),l.run()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/client":14,"../lib/comment":15,assert:1}],19:[function(t){"use strict";var e=t("assert"),n=t("../lib/comment").Author,r=t("../lib/comment").Comment,o=t("../lib/comment").CommentType,i={run:function(){var t=this;describe("Author",function(){describe(".fromJSON()",t.testFromJSON),describe("#toJSON()",t.testToJSON)})},testFromJSON:function(){it("should return a null reference with a non-object JSON string",function(){e.strictEqual(n.fromJSON("foo"),null)}),it("should return an empty instance with an empty JSON object",function(){var t=n.fromJSON({});e.strictEqual(t.email,null),e.strictEqual(t.url,null)}),it("should return an initialized instance with a non-empty JSON object",function(){var t=n.fromJSON({comment_author_email:"cedric@belin.io",comment_author_url:"http://belin.io"});e.equal(t.email,"cedric@belin.io"),e.equal(t.url,"http://belin.io")})},testToJSON:function(){it("should return an empty JSON object with a newly created instance",function(){e.equal((new n).toJSON(),"{}")}),it("should return a non-empty JSON object with a initialized instance",function(){var t=new n({name:"CÃ©dric Belin",email:"cedric@belin.io",ipAddress:"127.0.0.1",url:"http://belin.io"});e.equal(t.toJSON(),'{"comment_author":"CÃ©dric Belin","comment_author_email":"cedric@belin.io","comment_author_url":"http://belin.io","user_ip":"127.0.0.1"}')})}},s={run:function(){var t=this;describe("Comment",function(){describe(".fromJSON()",t.testFromJSON),describe("#toJSON()",t.testToJSON)})},testFromJSON:function(){it("should return a null reference with a non-object JSON string",function(){e.strictEqual(r.fromJSON("foo"),null)}),it("should return an empty instance with an empty JSON object",function(){var t=r.fromJSON({});e.strictEqual(t.author,null),e.strictEqual(t.content,null),e.strictEqual(t.referrer,null),e.strictEqual(t.type,null)}),it("should return an initialized instance with a non-empty JSON object",function(){var t=r.fromJSON({comment_author:"CÃ©dric Belin",comment_content:"A user comment.",comment_type:"trackback",referrer:"http://belin.io"});e(t.author instanceof n),e.equal(t.author.name,"CÃ©dric Belin"),e.equal(t.content,"A user comment."),e.equal(t.referrer,"http://belin.io"),e.equal(t.type,o.TRACKBACK)})},testToJSON:function(){it("should return an empty JSON object with a newly created instance",function(){e.equal((new r).toJSON(),"{}")}),it("should return a non-empty JSON object with a initialized instance",function(){var t=new r({author:new n({name:"CÃ©dric Belin"}),content:"A user comment.",referrer:"http://belin.io",type:o.PINGBACK});e.equal(t.toJSON(),'{"comment_author":"CÃ©dric Belin","comment_content":"A user comment.","comment_type":"pingback","referrer":"http://belin.io"}')})}};i.run(),s.run()},{"../lib/comment":15,assert:1}],20:[function(t){"use strict";function e(){var e="ontouchstart"in document.documentElement||window.navigator.maxTouchPoints||window.navigator.msMaxTouchPoints;e||$('[data-toggle="tooltip"]').tooltip({placement:"auto"}),$("#btn-submit").on("click",function(e){e.preventDefault(),$("#form-unit-tests input").each(function(){var t=$(this);t.val($.trim(t.val()))});var n=$("#blog-url");n.val().length||n.val("http://dev.belin.io/akismet.js");var r=$("#service-url");r.val().length||r.val("http://localhost:3000");var o=$("#api-key");return o.val().length>0?(o.closest(".form-group").removeClass("has-error"),$("main").empty().append('<div id="mocha"></div>'),mocha.setup({checkLeaks:!0,ui:"bdd"}),window.process={env:{AKISMET_API_KEY:o.val(),AKISMET_BLOG:n.val(),AKISMET_SERVICE_URL:r.val()}},t("../../test/comment"),t("../../test/client"),void mocha.run()):(o.closest(".form-group").addClass("has-error"),o.focus(),void $("#dialog-alert").modal("show"))})}$(e)},{"../../test/client":18,"../../test/comment":19}]},{},[20]);